# 컴넷 09.22



## Ethernet

Ethernet 은 CSMA / CD 를 상용화 한 기술이다. 

- Overview

  Ethernet은 LAN을 위해서 만들어진 하나의 기술인데 MAN, WAN 에서도 쓰인다. Ethernet은 'Xerox'라는 회사에서 만든 기술이다. 1983년에 IEEE 단체의 802.3 그룹에등록되어 국제 표준이 된다. Ethernet은 싸고 고속으로 사용이 가능하고 Physical-layer의 소재가 달라져도 Data-link를 고치지 않아도 된다는 장점이 있다.

  Ethernet 은 OSI 7 Layer에서 1, 2 계층을 가지고 있어 Framing 이 가능하다. DLC의 Error control 기능은 없지만 재전송을 할 수 있다. CSMA / CD의 MAC이 있고 LLC가 있다. Ethernet은 Physical-layer 소재가 바뀌더라도 Backward compatability 하다. Medium의 소재가 바뀌어 속도가 빨라지는 이점을 누릴 수 있었다.

  

- IEEE 802.3 Standard

  IEEE 892.3 표준으로 Token ring, Token bus 같은 기술도 있었지만 Ethernet에 밀려났다. Ethernet의 MAC 은 CSMA / CD에 충실하다. DLC 기능은 미약해서 Connection less 이라 볼 수 있지만 Source addressing 과 같은 Framing 기능정도만 수행해서 Error control과 Flow control 기능은 없다고 볼 수 있다.  IEEE 802.3 에서 Ethernet 은 1, 2계층이 묶여서 표준이 되었다. 

  

- IEEE 802.3 Frame Format

  Flag 에 해당하는 Preable, SFD 가 있고 보내는 Data에는 최소 최대 범위가 있다. CRC는 종료 코드에 해당한다. 

  

- Topologies

  Ethernet은 최초에 Bus Topology를 사용했다. 이후 HUB를 사용한Tree & Star Topology도 생겨났다. Bus Topology에선 충돌 방지를 해야 했지만 HUB 방식으로 충돌의 요인이 사라졌다. 그래서 최근엔 고속의 Physical과 Framing만 지원하는 것이 사용된다. 

  

- Bridging

  Bus Topology 에서 줄을 짤랐다. 그 곳을 Bridge 장치가 이어준다. Bridge로 Error 발생할 수 있는 범위를 잘라주었다.  

  

- Briding for Collision Reduction 

  충돌을 줄이기 위해 Star Topology로 가기전에 Bridge를 사용해서 줄에 연결된 Station을 나누는 작업을 진행했다. 

  

- Ethernet Applications 

  Ethernet은 시간이 지나면서 유선일경우 지원속도가 빨라지면서 유선 Ethernet은 De fecto standard로 자리매김했다.

   

- power over Ethernet

  POE 는 전원공급과 통신이 동시에 되는 선을 말한다. 전화선도 전원공급과 통신이 가능하다. POE는 주로 로봇, 카메라, 관측장비 등에 사용된다. 

  

- IEEE 1588

  실시간 시간의 동기화가 필요한 경우 GPS를 사용하면 된다. 하지만 공장의 로봇 처럼 실내에 있어 GPS접근이 불가능한 경우 Ethernet을 사용해서 빠른 속도로 시간을 동기화 하는 기술이 IEEE 1588 이다. 

## WiFi
WiFi는 단체 이름인  WiFi Alliance 에서 나왔다. 이 단체는  IEEE 802.11을 지원하는 제품 프로모션을 하는 단체다. 

- Overview

  IEEE 802.11의 표준 규격을 따른다. Physical-layer 과 MAC-layer가  있고 LLC 가 올라간다. Error control이 없기 때문에 안정성이 보장이 안된다. 무선이기 때문에 출력에 따라 범위가 정해진다. 사용하는 주파수 대역으로 2.4GHz, 5Ghz, 60GHz 가 있다. Wifi 는 기본 기술이 CSMA / CA 이다. 

  - Topologies

    - **Ad hoc network**  

      Ad hoc network는 근거리에 있는 장치들은 스스로 주파수를 보내서 통신한다. 군집 주행을 하는 드론은 근처에 있는 드론끼리 통신하는데 이때 Ad hoc network를 기반으로 한다. 무선의 Topology의 가장 기초 형태이다. 

    - Access point

      AP 라 한다. Infrastructure (Internet)에 Access 하기 위한 장치다. 여러 컴퓨터의 무선랜 신호를 받아 Internet으로 보내고 Internet에서 온 신호를 다시 컴퓨터에게 보내준다. 

    

  - Layers

    802.11의 Physical-layer엔 다양한 종류의 기술이 있다.  Data-link layer에선 거의 비슷한 기술을 사용한다. 

    - DCF 

      802.11의 Distributed coordinate funtion (DCF)는 CSMA/CA 에 해당한다. MAC layer에 DCF 가 올라가면 충돌방지가 된다. 

    - PCF

      PCF가 올라가면 Contention-free service가 가능해진다. Contention-free 란 경쟁이 없도록 노력하는 것이다.  이를 Software 적으로 Controlled Access 기술로 구현한다.   

      

- AP Repetition
  802.11은 CSMA/CA에 기반하지만 그위에 PCF를 올려사용한다. 이때 AP 는 Station과 연결 ㅏ\.'.. <작업 > 

  - 802.11 Speed Roadma **중요**

    Band : 낮으면 멀리간다.

    Rate : 높으면 고속이다.

    무선랜도 제품들의 특성을 보면서 필요한 제품을 사자.
    
    <-- 작업중 -->

## Bluetooth

  Ericson 이라는 회사가 만들었다. Wifi는 802.11이라는 곳에서 표준을 관리하고 얼라이언스에서 프로모션 한다면 bluetooth는 표준과 프로모션을 한 곳에서 처리한다. Blutooth 는 와이파이와 같은 주파수 대역을 사용한다. 둘다 비인가 대역을 사용한다. 그래서 와이파이 장비가 많고 블루부스 장비가 많다면 간섭이 일어난다.

  블루투스는 RS-232라는 끊임없이 정보를 주고받는 줄을 대체하기 위해서 사용된 것이다. 그래서 블루투스는 줄을 무선을 바꾼 것이다.

  블루투수는 SIG 그룹이라는 곳에서 표준과 프로모션을 한다. 원래는 IEEE 802.15.1에서 표준을 만들었으나 SIG그룹이 가져왔다. 그래서 시장에 빠르게 대응한다.

  원래 블루투스는 줄을 대체하는 것, 마우스 키보드 정도를 바꾸기 했기 때문에 스피커 시장이 터지면서 더 많은 rate를 지원하게 되었다.

  - Bluetooth Layer Stack
  
    OSI 7 계층을 따르지 않는다. PPP를 따라서 바로 Application이 올라간다.
  
  - Blutooth Application
  
    사람의 말소리를 실어보낸다. 즉 방점을 찍어야하는 것은 끊임없이 전송해야 하는 것이다.

## Bluetooth Low Energy (BLE/BRsmart & Mesh)

  블루투스 기술이 컴퓨터 기술에 맞게 개량되어서 배터리를 적게 쓰는 기술을 만든다. 그렇게 통신에서의 에너지를 최소하하는 방향으로 간다.

  - Bluetooth VS BLE compare
  
    차이점 : BlE는 띄문띄문 정보를 보내기 위함이다. 따라서 Voice capable이 불가능하다. 그래서 Total time to send data 에서 차이가 있다. 그래서 BLE는 Headsets 부분에서는 사용이 불가능하다.
  
  - BLE Layer Stack
  
    Bluetooth 는 SIG 그룹에서 다 만들어지기 때문에 Application도 표준화 되었다. 그래서 Blutooth 장비들은 제조사 구별없이 호환이 가능하다. 그래서 시장을 여는 속도가 빠르다.
  
    Bluetooth는 OSI 7 layer의 1, 2 계층에 해당한다. 하지만 SIG 그룹은 3, 4 ,5 ,6 7 까지 Application layer까지 다 올라갔다.
  
  - BLE Network
  
    BLE는 Networking이 된다.
    Pairing : 1 대 1 연결
    Broadcastion : 1대 N 연결
    Mesh Networking : 별도의 유무선 공유기가 없더라도, BLE Node 들이 연결이 된다.
  
    하지만 BLuetooth는 1,2 계층이다.
  
  - BLE Application
  
    자동차안에서 사용된다.
  
  - Bluetooth Smart
  
    네트웍한다. 블루투스 만으로도 네트웍 할 수 있다. 간단히 네트웍하기 위해서는 Third party device - mesh node - mesh gateway로 3개 이상의 장비가 연결되어 있어야 한다.
  
    BLE만으로 N개 이상의 정치를 연결할 수 있다. MESH networking 으로 말이다.
  
    온도조절기를 예를 든다면,
  
  - CSR MESH
  
    CSR이라는 회사가 BLE를 mesh로 만들어서 CSR이라는 이름이 붇었다. BLE는 일종의 Broadcast 한 특성을 가지고 있다. 이렇게 BLE는 MESH 네트워킹이 가능하다. 이렇게 wifi 가 아니더라도 충분히 데이터를 보낼 수 있다.

  

## LoRa

  Long Range이다. 이동통신 coverage 정도의 범위 이다. 최근에 만들어진 기술이다.

  LoRa Alliance : Bluetooth 처럼 표준과 프로모션을 동시에 한다. Wide Area 하다.

  주파수가 169 MHz. 433 MHz 처럼 낮은 주파수라 멀리 나간다. 따라서 정보를 많이 실진 못하므로 사람을 위한 기술이 아닌 센서를 위한 것이다. 주로 IoT를 위한 것이다. 사용처로 광산, 멀리 떨어진 발전소, 등 멀리 떨어진 곳.

  - Protocol Layer
  
    OSI 7 layer 1, 2 이다.

## LoRaWAN

  로라를 이동통신스럽게 바꿨다. 한국에서는 SKT이 한다. 돈을 받는건 주파수 사용료가 아니고 장치 사용료이다. 비인가 주파수인 LoRaWAN로 장치를 사용할 수 있게 만들어 준다.

  **학교 사이드 프로젝트로 가능하다.**

## LoRa/LoRaWAN Implementation 

LORA WAN 은 소프트웨어도 지원하다. 그래서 OSI 7 layer 12 와 소프트웨어도 같이 있는 것이다. 표준을 지킨 다는 것이 무슨 목적인지에 따라 다르다.

